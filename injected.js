!function(){"use strict";let e;const t=[];function n(t,n){if(!e?.skip_old||"g"!=n.data[0])return t.call(this,n)}window.addEventListener("message",(n=>{if(!Array.isArray(n.data)||n.data.length<1)return;let[a,...o]=n.data;if("set-all"!=a)return console.warn("Unknown command",a);e=JSON.parse(o[0]),t.forEach((e=>e()))})),window.parent.postMessage(["get-all"]),WebSocket=new Proxy(WebSocket,{construct(t,a){let o=new t(...a);return o.addEventListener("close",(()=>{e?.auto_reload&&window.top.document.location.reload()})),Object.defineProperty(o,"onmessage",{set:e=>o.addEventListener("message",n.bind(o,e))}),o}})}();
