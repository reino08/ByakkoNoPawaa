!function(){"use strict";const t=window.parent[Symbol.for("WFP")].settings;function n(n,e){if(!t?.skip_old||"g"!=e.data[0])return n.call(this,e)}WebSocket=new Proxy(WebSocket,{construct(e,o){let i=new e(...o);return i.addEventListener("close",(()=>{t?.auto_reload&&window.top.document.location.reload()})),Object.defineProperty(i,"onmessage",{set:t=>i.addEventListener("message",n.bind(i,t))}),i}});const e=new Promise((t=>{let n=window.parent.whiteboard.__sendStats;window.parent.whiteboard.__sendStats=function(e,o){return"end"==o&&function(t){let n=Object.entries(window),e=n.filter((([t,n])=>"function"==typeof n&&!n.toString().includes("[native code]")));t({all:n,functions:e})}(t),n.apply(this,arguments)}}));e.then((t=>{const n="$wnd.alert("+t.all.find((([t,n])=>"Copy command and image upload are currently disabled."==n))[0]+")";let e=t.functions.filter((([t,e])=>e.toString().includes(n)));for(const[t,o]of e){const e=o.toString(),i=e.indexOf(n);window[t]=new Function("return "+e.substring(0,i)+e.substring(i).replace("return","").replace(n,""))()}}))}();
